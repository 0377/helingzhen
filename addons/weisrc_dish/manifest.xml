<?xml version="1.0" encoding="utf-8"?>
<manifest xmlns="http://www.012wz.com" versionCode="0.6">
	<application setting="false">
		<name><![CDATA[码上微点餐]]></name>
		<identifie><![CDATA[weisrc_dish]]></identifie>
		<version><![CDATA[6.4.6]]></version>
		<type><![CDATA[business]]></type>
		<ability><![CDATA[码上微点餐]]></ability>
		<description><![CDATA[码上微点餐]]></description>
		<author><![CDATA[微赞]]></author>
		<url><![CDATA[whttp://www.012wz.com]]></url>
	</application>
	<platform>
		<subscribes>
		</subscribes>
		<handles>
			<message type="text" />
		</handles>
		<rule embed="false" />
		<card embed="false" />
		<supports>
		</supports>
	</platform>
	<bindings>
		<cover>
			<entry title="门店列表入口" do="waprestList" state="" direct="false" />
			<entry title="智能点餐入口" do="wapselect" state="" direct="false" />
			<entry title="我的订单入口" do="orderlist" state="" direct="false" />
			<entry title="菜品列表入口" do="waplist" state="" direct="false" />
			<entry title="首页入口设置" do="wapindex" state="" direct="false" />
		</cover>
		<menu>
			<entry title="门店管理" do="stores" state="" direct="false" />
			<entry title="订单管理" do="order" state="" direct="false" />
			<entry title="基本设置" do="setting" state="" direct="false" />
			<entry title="模板管理" do="template" state="" direct="false" />
			<entry title="会员管理" do="allfans" state="" direct="false" />
			<entry title="广告管理" do="ad" state="" direct="false" />
			<entry title="区域管理" do="area" state="" direct="false" />
			<entry title="门店类型" do="type" state="" direct="false" />
			<entry title="帐号管理" do="account" state="" direct="false" />
		</menu>
		<home>
			<entry title="我的订单" do="orderlist" state="" direct="false" />
			<entry title="智能点餐" do="wapselect" state="" direct="false" />
			<entry title="菜品列表" do="waplist" state="" direct="false" />
			<entry title="门店列表" do="waprestList" state="" direct="false" />
			<entry title="码上微点餐" do="wapindex" state="" direct="false" />
		</home>
	</bindings>
	<install><![CDATA[CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_account` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `uid` int(10) unsigned NOT NULL,
  `pwd` varchar(50) NOT NULL,
  `mobile` varchar(20) NOT NULL,
  `email` varchar(20) NOT NULL,
  `from_user` varchar(100) NOT NULL,
  `storeid` varchar(1000) NOT NULL,
  `displayorder` tinyint(3) unsigned NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  `status` tinyint(1) unsigned NOT NULL,
  `pay_account` varchar(200) NOT NULL,
  `accountname` varchar(50) NOT NULL DEFAULT '',
  `password` varchar(200) NOT NULL DEFAULT '',
  `salt` varchar(10) NOT NULL DEFAULT '',
  `username` varchar(50) NOT NULL,
  `role` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '1:店长,2:店员',
  `lastvisit` int(10) unsigned NOT NULL DEFAULT '0',
  `lastip` varchar(15) NOT NULL,
  `areaid` int(10) NOT NULL DEFAULT '0' COMMENT '区域id',
  `is_admin_order` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `is_notice_order` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `is_notice_queue` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `is_notice_service` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `is_notice_boss` tinyint(1) NOT NULL DEFAULT '0',
  `lat` decimal(18,10) NOT NULL DEFAULT '0.0000000000' COMMENT '经度',
  `lng` decimal(18,10) NOT NULL DEFAULT '0.0000000000' COMMENT '纬度',
  `remark` varchar(1000) NOT NULL DEFAULT '' COMMENT '备注',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_ad` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `uniacid` int(10) unsigned NOT NULL,
  `title` varchar(100) NOT NULL,
  `url` varchar(200) NOT NULL,
  `thumb` varchar(500) NOT NULL,
  `position` tinyint(1) NOT NULL,
  `starttime` int(10) NOT NULL,
  `endtime` int(10) NOT NULL,
  `displayorder` int(10) unsigned NOT NULL,
  `status` tinyint(1) NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_address` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `from_user` varchar(50) NOT NULL,
  `realname` varchar(20) NOT NULL,
  `mobile` varchar(11) NOT NULL,
  `address` varchar(300) NOT NULL,
  `dateline` int(10) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_area` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `name` varchar(50) NOT NULL,
  `parentid` int(10) unsigned NOT NULL,
  `displayorder` tinyint(3) unsigned NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  `status` tinyint(1) unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_blacklist` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `from_user` varchar(100) DEFAULT NULL,
  `status` tinyint(1) unsigned NOT NULL,
  `dateline` int(10) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_openid` (`from_user`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_businesslog` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `uid` int(10) unsigned NOT NULL,
  `price` varchar(20) DEFAULT NULL,
  `haveprice` varchar(20) DEFAULT NULL,
  `totalprice` varchar(20) DEFAULT NULL,
  `status` tinyint(1) unsigned NOT NULL,
  `handletime` int(10) DEFAULT NULL,
  `dateline` int(10) DEFAULT NULL,
  `dining_mode` tinyint(1) unsigned NOT NULL,
  `charges` varchar(20) DEFAULT NULL,
  `successprice` varchar(20) DEFAULT NULL,
  `business_type` tinyint(1) unsigned NOT NULL DEFAULT '1',
  `trade_no` varchar(200) DEFAULT '0',
  `payment_no` varchar(200) DEFAULT '0',
  `result` varchar(1000) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_cart` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `goodsid` int(11) NOT NULL,
  `goodstype` tinyint(1) NOT NULL,
  `price` varchar(10) NOT NULL,
  `from_user` varchar(50) NOT NULL,
  `total` int(10) unsigned NOT NULL,
  `packvalue` varchar(10) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_cashlog` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL DEFAULT '0',
  `storeid` int(10) unsigned NOT NULL DEFAULT '0',
  `from_user` varchar(200) DEFAULT '',
  `logtype` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '日志类型1佣金2配送佣金',
  `type` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '类型1微信2余额',
  `price` decimal(10,2) DEFAULT '0.00' COMMENT '申请金额',
  `charges` decimal(10,2) DEFAULT '0.00' COMMENT '手续费',
  `successprice` decimal(10,2) DEFAULT '0.00' COMMENT '到帐金额',
  `totalprice` decimal(10,2) DEFAULT '0.00' COMMENT '余额',
  `trade_no` varchar(200) DEFAULT '0',
  `payment_no` varchar(200) DEFAULT '0',
  `remark` varchar(1000) DEFAULT '0',
  `status` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `handletime` int(10) DEFAULT '0' COMMENT '处理时间',
  `dateline` int(10) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_category` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `storeid` int(10) unsigned NOT NULL,
  `weid` int(10) unsigned NOT NULL,
  `name` varchar(50) NOT NULL,
  `parentid` int(10) unsigned NOT NULL,
  `displayorder` tinyint(3) unsigned NOT NULL,
  `enabled` tinyint(1) unsigned NOT NULL,
  `is_meal` tinyint(1) NOT NULL,
  `is_delivery` tinyint(1) NOT NULL,
  `is_snack` tinyint(1) NOT NULL,
  `is_reservation` tinyint(1) NOT NULL,
  `rebate` decimal(5,2) NOT NULL DEFAULT '10.00' COMMENT '打折费率',
  `is_discount` int(2) NOT NULL DEFAULT '0' COMMENT '是否开启打折',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_collection` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `from_user` varchar(50) NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `dateline` int(10) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_commission` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned DEFAULT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `orderid` int(10) unsigned NOT NULL,
  `agentid` int(10) unsigned NOT NULL,
  `ordersn` varchar(100) DEFAULT NULL,
  `from_user` varchar(100) DEFAULT NULL,
  `price` decimal(10,2) DEFAULT NULL,
  `status` tinyint(1) NOT NULL,
  `dateline` int(10) DEFAULT NULL,
  `level` tinyint(1) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_coupon` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) NOT NULL,
  `storeid` int(10) NOT NULL,
  `levelid` tinyint(1) NOT NULL,
  `title` varchar(50) NOT NULL,
  `thumb` varchar(500) NOT NULL,
  `attr_type` tinyint(1) NOT NULL,
  `ruletype` tinyint(1) NOT NULL,
  `type` tinyint(1) NOT NULL,
  `gmoney` decimal(18,2) NOT NULL,
  `dmoney` decimal(18,2) NOT NULL,
  `content` text NOT NULL,
  `totalcount` int(10) NOT NULL,
  `usercount` int(10) NOT NULL,
  `ticket_ty` tinyint(1) NOT NULL,
  `ticket_id` int(10) NOT NULL,
  `needscore` int(10) NOT NULL,
  `starttime` int(10) NOT NULL,
  `endtime` int(10) NOT NULL,
  `displayorder` tinyint(4) NOT NULL,
  `dateline` int(10) NOT NULL,
  `is_meal` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否店内点餐',
  `is_delivery` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否外卖订餐',
  `is_snack` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否支持快餐',
  `is_reservation` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否支持预定',
  `is_shouyin` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否支持收银',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_credits_record` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `from_user` varchar(100) DEFAULT '',
  `credittype` varchar(100) DEFAULT '' COMMENT '积分类型',
  `num` decimal(10,2) DEFAULT '0.00',
  `operator` varchar(100) DEFAULT '',
  `remark` varchar(1000) DEFAULT NULL COMMENT '内容',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_delivery_record` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '所属帐号',
  `storeid` int(10) NOT NULL DEFAULT '0' COMMENT '门店id',
  `orderid` int(10) NOT NULL DEFAULT '0' COMMENT '订单id',
  `delivery_id` int(10) NOT NULL DEFAULT '0' COMMENT '配送员id',
  `price` decimal(10,2) NOT NULL DEFAULT '0.00',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0',
  `status` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '状态',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_deliveryarea` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '所属帐号',
  `storeid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '所属门店',
  `title` varchar(50) NOT NULL COMMENT '区域名称',
  `displayorder` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '排序',
  `lat` decimal(18,10) NOT NULL DEFAULT '0.0000000000' COMMENT '经度',
  `lng` decimal(18,10) NOT NULL DEFAULT '0.0000000000' COMMENT '纬度',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0',
  `status` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '状态',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_dispatcharea` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '所属帐号',
  `storeid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '所属门店',
  `title` varchar(50) NOT NULL COMMENT '区域名称',
  `displayorder` tinyint(3) unsigned NOT NULL DEFAULT '0' COMMENT '排序',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0',
  `status` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '状态',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_distance` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `begindistance` int(10) unsigned NOT NULL,
  `enddistance` int(10) unsigned NOT NULL,
  `sendingprice` decimal(10,2) DEFAULT '0.00' COMMENT '起送价格',
  `dispatchprice` decimal(10,2) DEFAULT '0.00',
  `freeprice` decimal(10,2) DEFAULT '0.00',
  `dateline` int(10) DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_email_setting` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `email_enable` tinyint(1) unsigned NOT NULL,
  `email_host` varchar(50) DEFAULT NULL,
  `email_send` varchar(100) DEFAULT NULL,
  `email_pwd` varchar(20) DEFAULT NULL,
  `email_user` varchar(100) DEFAULT NULL,
  `email` varchar(100) DEFAULT NULL,
  `email_business_tpl` varchar(200) DEFAULT NULL,
  `dateline` int(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_fans` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `weid` int(11) DEFAULT NULL,
  `from_user` varchar(50) DEFAULT NULL,
  `nickname` varchar(50) DEFAULT NULL,
  `headimgurl` varchar(500) DEFAULT NULL,
  `username` varchar(50) DEFAULT NULL,
  `mobile` varchar(50) DEFAULT NULL,
  `address` varchar(200) DEFAULT NULL,
  `sex` tinyint(1) unsigned NOT NULL,
  `lat` decimal(18,10) NOT NULL,
  `lng` decimal(18,10) NOT NULL,
  `status` tinyint(1) DEFAULT NULL,
  `dateline` int(10) DEFAULT NULL,
  `storeid` int(11) DEFAULT NULL,
  `totalcount` int(10) DEFAULT NULL,
  `totalprice` decimal(18,2) NOT NULL,
  `avgprice` decimal(18,2) NOT NULL,
  `uid` int(11) DEFAULT NULL,
  `paytime` int(10) DEFAULT NULL,
  `lasttime` int(10) DEFAULT NULL,
  `agentid2` int(11) DEFAULT NULL,
  `agentid3` int(11) DEFAULT NULL,
  `noticetime` int(10) DEFAULT NULL,
  `agentid` int(11) DEFAULT NULL,
  `country` varchar(50) DEFAULT NULL,
  `province` varchar(50) DEFAULT NULL,
  `city` varchar(50) DEFAULT NULL,
  `is_commission` tinyint(1) DEFAULT '1',
  `commission_price` decimal(18,2) NOT NULL DEFAULT '0.00',
  `delivery_price` decimal(18,2) NOT NULL DEFAULT '0.00',
  PRIMARY KEY (`id`),
  KEY `indx_rid` (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_feedback` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned DEFAULT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `orderid` int(10) unsigned NOT NULL,
  `from_user` varchar(100) DEFAULT NULL,
  `star` tinyint(1) NOT NULL,
  `content` varchar(500) DEFAULT NULL,
  `displayorder` int(10) unsigned NOT NULL,
  `status` tinyint(1) NOT NULL,
  `dateline` int(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_fengniao` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `orderid` int(11) DEFAULT '0',
  `open_order_code` varchar(200) DEFAULT '' COMMENT '蜂鸟配送开放平台返回的订单号',
  `partner_order_code` varchar(200) DEFAULT '' COMMENT '商户自己的订单号',
  `order_status` int(11) DEFAULT '0' COMMENT '状态码',
  `push_time` int(11) DEFAULT '0' COMMENT '状态推送时间(毫秒)',
  `carrier_driver_name` varchar(200) DEFAULT '' COMMENT '蜂鸟配送员姓名',
  `carrier_driver_phone` varchar(200) DEFAULT '' COMMENT '蜂鸟配送员电话',
  `description` varchar(200) DEFAULT '' COMMENT '描述信息',
  `address` varchar(200) DEFAULT '' COMMENT '定点次日达服务独有的字段: 微仓地址',
  `latitude` decimal(18,10) NOT NULL DEFAULT '0.0000000000' COMMENT '定点次日达服务独有的字段: 微仓纬度',
  `longitude` decimal(18,10) NOT NULL DEFAULT '0.0000000000' COMMENT '定点次日达服务独有的字段: 微仓经度',
  `cancel_reason` int(11) DEFAULT '0' COMMENT '订单取消原因. 1:用户取消, 2:商家取消',
  `error_code` varchar(200) DEFAULT '' COMMENT '错误编码',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_goods` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `storeid` int(10) unsigned NOT NULL,
  `weid` int(10) unsigned NOT NULL,
  `pcate` int(10) unsigned NOT NULL,
  `ccate` int(10) unsigned NOT NULL,
  `status` tinyint(1) unsigned NOT NULL,
  `recommend` tinyint(1) unsigned NOT NULL,
  `displayorder` int(10) unsigned NOT NULL,
  `title` varchar(100) NOT NULL,
  `thumb` varchar(500) NOT NULL,
  `unitname` varchar(5) NOT NULL,
  `description` varchar(1000) NOT NULL,
  `taste` varchar(1000) NOT NULL,
  `isspecial` tinyint(1) unsigned NOT NULL,
  `marketprice` varchar(10) NOT NULL,
  `productprice` varchar(10) NOT NULL,
  `credit` int(10) NOT NULL,
  `subcount` int(10) unsigned NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  `lasttime` int(10) NOT NULL,
  `deleted` tinyint(1) unsigned NOT NULL,
  `counts` int(10) NOT NULL,
  `sales` int(10) unsigned NOT NULL,
  `today_counts` int(10) NOT NULL,
  `labelid` int(10) unsigned NOT NULL,
  `packvalue` varchar(10) NOT NULL,
  `content` text,
  `week` varchar(100) NOT NULL DEFAULT '1,2,3,4,5,6,0' COMMENT '星期',
  `memberprice` varchar(10) NOT NULL DEFAULT '' COMMENT '会员价',
  `delivery_commission_money` decimal(10,2) DEFAULT '0.00',
  `commission_money1` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '一级佣金',
  `commission_money2` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '二级佣金',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_goods_option` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `goodsid` int(10) DEFAULT '0',
  `title` varchar(50) DEFAULT '',
  `price` decimal(10,2) DEFAULT '0.00',
  `stock` int(11) DEFAULT '0',
  `displayorder` int(11) DEFAULT '0',
  `specs` text,
  PRIMARY KEY (`id`),
  KEY `indx_goodsid` (`goodsid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_intelligent` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `storeid` int(10) unsigned NOT NULL,
  `weid` int(10) unsigned NOT NULL,
  `name` int(10) NOT NULL,
  `content` varchar(1000) NOT NULL,
  `displayorder` tinyint(3) unsigned NOT NULL,
  `enabled` tinyint(1) unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_mealtime` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `begintime` varchar(20) DEFAULT NULL,
  `endtime` varchar(20) DEFAULT NULL,
  `status` tinyint(1) unsigned NOT NULL,
  `dateline` int(10) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `indx_weid` (`weid`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_nave` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `type` int(10) NOT NULL,
  `name` varchar(50) NOT NULL,
  `link` varchar(200) NOT NULL,
  `displayorder` tinyint(3) unsigned NOT NULL,
  `status` tinyint(1) unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_order` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `from_user` varchar(50) NOT NULL,
  `ordersn` varchar(30) NOT NULL,
  `totalnum` tinyint(4) DEFAULT NULL,
  `totalprice` varchar(10) NOT NULL,
  `status` tinyint(4) NOT NULL,
  `paytype` tinyint(1) unsigned NOT NULL,
  `username` varchar(50) NOT NULL,
  `address` varchar(250) NOT NULL,
  `tel` varchar(50) NOT NULL,
  `reply` varchar(1000) NOT NULL,
  `meal_time` varchar(50) NOT NULL,
  `counts` tinyint(4) DEFAULT NULL,
  `seat_type` tinyint(1) DEFAULT NULL,
  `carports` tinyint(3) DEFAULT NULL,
  `dining_mode` tinyint(1) unsigned NOT NULL,
  `remark` varchar(1000) NOT NULL,
  `tables` varchar(10) NOT NULL,
  `print_sta` tinyint(1) DEFAULT NULL,
  `sign` tinyint(1) NOT NULL,
  `isfinish` tinyint(1) NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  `transid` varchar(30) NOT NULL,
  `goodsprice` decimal(10,2) DEFAULT NULL,
  `dispatchprice` decimal(10,2) DEFAULT NULL,
  `isemail` tinyint(1) NOT NULL,
  `issms` tinyint(1) NOT NULL,
  `istpl` tinyint(1) NOT NULL,
  `credit` varchar(10) NOT NULL,
  `paydetail` varchar(1000) NOT NULL,
  `ispay` tinyint(1) NOT NULL,
  `tablezonesid` varchar(10) NOT NULL,
  `isfeedback` tinyint(1) NOT NULL,
  `couponid` int(10) unsigned NOT NULL,
  `packvalue` varchar(10) NOT NULL,
  `quyu` varchar(100) NOT NULL,
  `rechargeid` int(10) NOT NULL DEFAULT '0',
  `quicknum` varchar(30) NOT NULL DEFAULT '0001',
  `tea_money` decimal(10,2) DEFAULT '0.00',
  `service_money` decimal(10,2) DEFAULT '0.00',
  `discount_money` decimal(10,2) DEFAULT '0.00',
  `ismerge` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否合并的单子',
  `delivery_id` int(10) NOT NULL DEFAULT '0' COMMENT '配送员id',
  `delivery_status` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `deliveryareaid` int(10) NOT NULL DEFAULT '0' COMMENT '配送点id',
  `delivery_money` decimal(11,2) NOT NULL DEFAULT '0.00' COMMENT '佣金',
  `is_append` tinyint(1) unsigned NOT NULL DEFAULT '0' COMMENT '是否加单',
  `append_dish` tinyint(2) NOT NULL DEFAULT '0' COMMENT '加菜',
  `lat` decimal(18,10) NOT NULL DEFAULT '0.0000000000' COMMENT '经度',
  `lng` decimal(18,10) NOT NULL DEFAULT '0.0000000000' COMMENT '纬度',
  `delivery_notice` tinyint(1) NOT NULL DEFAULT '0',
  `isvip` tinyint(1) NOT NULL DEFAULT '0' COMMENT '会员',
  `finishtime` int(10) DEFAULT '0' COMMENT '完成时间',
  `confirmtime` int(10) DEFAULT '0' COMMENT '确认时间',
  `paytime` int(10) DEFAULT '0' COMMENT '付款时间',
  `delivery_finish_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '已配送时间',
  `newlimitprice` varchar(500) NOT NULL DEFAULT '',
  `oldlimitprice` varchar(500) NOT NULL DEFAULT '',
  `newlimitpricevalue` varchar(10) NOT NULL DEFAULT '',
  `oldlimitpricevalue` varchar(10) NOT NULL DEFAULT '',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_order_goods` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `orderid` int(10) unsigned NOT NULL,
  `goodsid` int(10) unsigned NOT NULL,
  `price` varchar(10) NOT NULL,
  `total` int(10) unsigned NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_order_log` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '门店编号',
  `orderid` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '订单编号',
  `content` varchar(1000) DEFAULT NULL COMMENT '内容',
  `fromtype` tinyint(1) NOT NULL DEFAULT '0' COMMENT '来源',
  `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态',
  `dateline` int(10) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_print_label` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `storeid` int(10) unsigned NOT NULL,
  `weid` int(10) unsigned NOT NULL,
  `title` varchar(50) NOT NULL,
  `displayorder` tinyint(3) unsigned NOT NULL,
  `status` tinyint(1) unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_print_order` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `orderid` int(10) unsigned NOT NULL,
  `print_usr` varchar(50) DEFAULT NULL,
  `print_status` tinyint(1) DEFAULT NULL,
  `dateline` int(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_print_setting` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `title` varchar(200) DEFAULT NULL,
  `print_status` tinyint(1) NOT NULL,
  `print_type` tinyint(1) NOT NULL,
  `print_usr` varchar(50) DEFAULT NULL,
  `print_nums` tinyint(3) DEFAULT NULL,
  `print_top` varchar(40) DEFAULT NULL,
  `print_bottom` varchar(40) DEFAULT NULL,
  `dateline` int(10) DEFAULT NULL,
  `qrcode_status` tinyint(1) NOT NULL,
  `qrcode_url` varchar(200) DEFAULT NULL,
  `type` varchar(50) DEFAULT NULL,
  `member_code` varchar(100) DEFAULT NULL,
  `feyin_key` varchar(100) DEFAULT NULL,
  `is_print_all` tinyint(1) NOT NULL,
  `print_goodstype` varchar(500) DEFAULT NULL,
  `printid` int(10) NOT NULL,
  `yilian_type` tinyint(1) DEFAULT NULL,
  `api_key` varchar(100) DEFAULT NULL,
  `print_label` varchar(500) DEFAULT NULL,
  `is_meal` tinyint(1) NOT NULL,
  `is_delivery` tinyint(1) NOT NULL,
  `is_snack` tinyint(1) NOT NULL,
  `is_reservation` tinyint(1) NOT NULL,
  `position_type` tinyint(1) DEFAULT '1',
  `jinyun_type` tinyint(1) DEFAULT '1',
  `is_shouyin` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否支持收银',
  `api_type` tinyint(1) NOT NULL DEFAULT '0' COMMENT '打印机api类型',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_queue_order` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `queueid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `from_user` varchar(200) NOT NULL,
  `num` varchar(100) NOT NULL,
  `mobile` varchar(30) NOT NULL,
  `usercount` int(10) unsigned NOT NULL,
  `isnotify` tinyint(1) unsigned NOT NULL,
  `status` tinyint(1) NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_queue_setting` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `title` varchar(200) NOT NULL,
  `limit_num` int(10) unsigned NOT NULL,
  `prefix` varchar(50) NOT NULL,
  `starttime` varchar(50) NOT NULL,
  `endtime` varchar(50) NOT NULL,
  `notify_number` int(10) NOT NULL,
  `displayorder` tinyint(3) unsigned NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  `status` tinyint(1) unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_recharge` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) NOT NULL DEFAULT '0' COMMENT '公众号id',
  `storeid` int(10) NOT NULL DEFAULT '0' COMMENT '门店id',
  `title` varchar(200) NOT NULL COMMENT '活动名称',
  `recharge_value` decimal(10,2) NOT NULL DEFAULT '0.00' COMMENT '充值多少',
  `give_value` int(10) NOT NULL DEFAULT '0' COMMENT '赠送多少',
  `total` int(10) NOT NULL DEFAULT '0' COMMENT '几期',
  `starttime` int(10) NOT NULL DEFAULT '0' COMMENT '开始时间',
  `endtime` int(10) NOT NULL DEFAULT '0' COMMENT '结束时间',
  `content` text NOT NULL,
  `displayorder` tinyint(4) NOT NULL DEFAULT '0' COMMENT '排序',
  `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态',
  `dateline` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_recharge_record` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `rechargeid` int(10) NOT NULL DEFAULT '0',
  `weid` int(10) NOT NULL DEFAULT '0' COMMENT '公众号id',
  `from_user` varchar(100) DEFAULT '',
  `storeid` int(10) NOT NULL DEFAULT '0' COMMENT '门店id',
  `orderid` int(10) NOT NULL DEFAULT '0' COMMENT '订单id',
  `price` decimal(10,2) NOT NULL DEFAULT '0.00',
  `displayorder` tinyint(4) NOT NULL DEFAULT '0' COMMENT '排序',
  `status` tinyint(1) NOT NULL DEFAULT '0' COMMENT '状态',
  `remark` text NOT NULL COMMENT '备注',
  `givetime` int(10) NOT NULL DEFAULT '0',
  `endtime` int(10) NOT NULL DEFAULT '0' COMMENT '结束时间',
  `dateline` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_reply` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `rid` int(10) unsigned NOT NULL,
  `weid` int(10) unsigned NOT NULL,
  `title` varchar(255) NOT NULL,
  `type` tinyint(1) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `description` varchar(1000) NOT NULL,
  `picture` varchar(255) NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  PRIMARY KEY (`id`),
  KEY `idx_rid` (`rid`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_reservation` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `tablezonesid` int(10) unsigned NOT NULL,
  `time` varchar(200) NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  `displayorder` tinyint(3) unsigned NOT NULL,
  `label` varchar(50) NOT NULL DEFAULT '' COMMENT '标签',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_savewine_log` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `from_user` varchar(100) DEFAULT NULL,
  `savenumber` varchar(100) NOT NULL,
  `title` varchar(200) DEFAULT NULL,
  `username` varchar(100) DEFAULT NULL,
  `tel` varchar(30) DEFAULT NULL,
  `remark` text NOT NULL,
  `displayorder` int(10) unsigned NOT NULL,
  `status` tinyint(1) unsigned NOT NULL,
  `takeouttime` int(10) unsigned NOT NULL,
  `savetime` int(10) unsigned NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_service_log` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `from_user` varchar(100) DEFAULT NULL,
  `content` varchar(1000) DEFAULT NULL,
  `status` tinyint(1) NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_setting` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `title` varchar(50) DEFAULT NULL,
  `thumb` varchar(200) DEFAULT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `entrance_type` tinyint(1) unsigned NOT NULL,
  `entrance_storeid` tinyint(1) unsigned NOT NULL,
  `order_enable` tinyint(1) unsigned NOT NULL,
  `dining_mode` tinyint(1) unsigned NOT NULL,
  `dateline` int(10) DEFAULT NULL,
  `istplnotice` tinyint(1) NOT NULL,
  `tplneworder` varchar(200) DEFAULT NULL,
  `tpluser` text,
  `searchword` varchar(1000) DEFAULT NULL,
  `mode` tinyint(1) NOT NULL,
  `tplnewqueue` varchar(200) DEFAULT NULL,
  `is_notice` tinyint(1) unsigned NOT NULL,
  `sms_enable` tinyint(1) unsigned NOT NULL,
  `sms_username` varchar(20) DEFAULT NULL,
  `sms_pwd` varchar(20) DEFAULT NULL,
  `sms_mobile` varchar(20) DEFAULT NULL,
  `email_enable` tinyint(1) unsigned NOT NULL,
  `email_host` varchar(50) DEFAULT NULL,
  `email_send` varchar(100) DEFAULT NULL,
  `email_pwd` varchar(20) DEFAULT NULL,
  `email_user` varchar(100) DEFAULT NULL,
  `email` varchar(100) DEFAULT NULL,
  `tpltype` tinyint(1) NOT NULL,
  `sms_id` tinyint(11) unsigned NOT NULL,
  `is_sms` int(10) NOT NULL,
  `tploperator` varchar(200) DEFAULT NULL,
  `commission_level` tinyint(1) unsigned NOT NULL,
  `share_title` varchar(200) DEFAULT NULL,
  `share_desc` varchar(300) DEFAULT NULL,
  `share_image` varchar(500) DEFAULT NULL,
  `commission2_rate_max` decimal(10,2) unsigned NOT NULL,
  `commission2_value_max` int(10) unsigned NOT NULL,
  `commission3_rate_max` decimal(10,2) unsigned NOT NULL,
  `commission3_value_max` int(10) unsigned NOT NULL,
  `is_commission` tinyint(1) unsigned NOT NULL,
  `commission1_rate_max` decimal(10,2) unsigned NOT NULL,
  `commission1_value_max` int(10) unsigned NOT NULL,
  `commission_settlement` tinyint(1) unsigned NOT NULL,
  `getcash_price` int(10) unsigned NOT NULL,
  `fee_rate` decimal(10,2) unsigned NOT NULL,
  `fee_min` int(10) unsigned NOT NULL,
  `fee_max` int(10) unsigned NOT NULL,
  `follow_url` varchar(500) DEFAULT NULL,
  `isneedfollow` tinyint(1) DEFAULT NULL,
  `wechat` tinyint(1) NOT NULL,
  `alipay` tinyint(1) NOT NULL,
  `credit` tinyint(1) NOT NULL,
  `delivery` tinyint(1) NOT NULL,
  `is_speaker` tinyint(1) NOT NULL,
  `link_card` varchar(500) DEFAULT NULL,
  `link_sign` varchar(500) DEFAULT NULL,
  `link_sign_name` varchar(100) DEFAULT NULL,
  `link_card_name` varchar(100) DEFAULT NULL,
  `tplboss` varchar(200) NOT NULL DEFAULT '',
  `tplapplynotice` varchar(200) NOT NULL DEFAULT '',
  `commission_mode` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '分销模式',
  `commission_money_mode` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '佣金模式',
  `delivery_mode` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '配送通知模式',
  `delivery_commission_mode` tinyint(1) unsigned NOT NULL DEFAULT '1' COMMENT '配送佣金模式',
  `delivery_money` decimal(11,2) NOT NULL DEFAULT '0.00' COMMENT '佣金',
  `delivery_cash_price` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '提现最低金额',
  `delivery_rate` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '佣金费率',
  `delivery_order_max` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '配送订单数量限制',
  `delivery_auto_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '自动推送配送员时间设置',
  `delivery_finish_time` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '自动完成已配送订单',
  `link_recharge` varchar(500) DEFAULT '',
  `link_recharge_name` varchar(100) DEFAULT '',
  `is_auto_address` tinyint(1) NOT NULL DEFAULT '0',
  `is_show_home` tinyint(1) NOT NULL DEFAULT '1',
  `is_operator_pwd` tinyint(1) NOT NULL DEFAULT '0',
  `is_contain_delivery` tinyint(1) NOT NULL DEFAULT '1',
  `tiptype` tinyint(1) NOT NULL DEFAULT '1',
  `tipbtn` tinyint(1) NOT NULL DEFAULT '1',
  `tipqrcode` varchar(500) DEFAULT '',
  `operator_pwd` varchar(50) DEFAULT '',
  `apiclient_cert` tinyint(1) NOT NULL DEFAULT '0',
  `apiclient_key` tinyint(1) NOT NULL DEFAULT '0',
  `rootca` tinyint(1) NOT NULL DEFAULT '0',
  `follow_title` varchar(500) DEFAULT '',
  `follow_desc` varchar(500) DEFAULT '',
  `follow_logo` varchar(500) DEFAULT '',
  `site_logo` varchar(500) DEFAULT '',
  `statistics` text NOT NULL,
  `fengniao_appid` varchar(200) DEFAULT '',
  `fengniao_key` varchar(200) DEFAULT '',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_sms_checkcode` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `from_user` varchar(100) DEFAULT NULL,
  `mobile` varchar(30) DEFAULT NULL,
  `checkcode` varchar(100) DEFAULT NULL,
  `status` tinyint(1) unsigned DEFAULT NULL,
  `dateline` int(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_sms_setting` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `sms_enable` tinyint(1) unsigned NOT NULL,
  `sms_verify_enable` tinyint(1) unsigned NOT NULL,
  `sms_username` varchar(20) DEFAULT NULL,
  `sms_pwd` varchar(20) DEFAULT NULL,
  `sms_mobile` varchar(20) DEFAULT NULL,
  `sms_verify_tpl` varchar(120) DEFAULT NULL,
  `sms_business_tpl` varchar(120) DEFAULT NULL,
  `sms_user_tpl` varchar(120) DEFAULT NULL,
  `dateline` int(10) DEFAULT NULL,
  `is_sms` tinyint(1) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_sncode` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `couponid` int(10) NOT NULL,
  `storeid` int(10) NOT NULL,
  `weid` int(10) NOT NULL,
  `from_user` varchar(100) NOT NULL,
  `title` varchar(40) NOT NULL,
  `sncode` varchar(100) NOT NULL,
  `type` tinyint(1) NOT NULL,
  `money` decimal(10,2) NOT NULL,
  `status` tinyint(1) NOT NULL,
  `isshow` tinyint(1) NOT NULL,
  `winningtime` int(10) NOT NULL,
  `usetime` int(10) NOT NULL,
  `dateline` int(10) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_store_setting` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `order_enable` tinyint(1) unsigned NOT NULL,
  `dateline` int(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_stores` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) NOT NULL,
  `areaid` int(10) NOT NULL,
  `title` varchar(50) NOT NULL,
  `logo` varchar(500) NOT NULL,
  `info` varchar(1000) NOT NULL,
  `content` text NOT NULL,
  `tel` varchar(20) NOT NULL,
  `location_p` varchar(100) NOT NULL,
  `location_c` varchar(100) NOT NULL,
  `location_a` varchar(100) NOT NULL,
  `address` varchar(200) NOT NULL,
  `place` varchar(200) NOT NULL,
  `lat` decimal(18,10) NOT NULL,
  `lng` decimal(18,10) NOT NULL,
  `password` varchar(20) NOT NULL,
  `hours` varchar(200) NOT NULL,
  `recharging_password` varchar(20) NOT NULL,
  `thumb_url` varchar(1000) DEFAULT NULL,
  `enable_wifi` tinyint(1) unsigned NOT NULL,
  `enable_card` tinyint(1) unsigned NOT NULL,
  `enable_room` tinyint(1) unsigned NOT NULL,
  `enable_park` tinyint(1) unsigned NOT NULL,
  `is_show` tinyint(1) NOT NULL,
  `is_meal` tinyint(1) NOT NULL,
  `is_delivery` tinyint(1) NOT NULL,
  `sendingprice` varchar(10) NOT NULL,
  `displayorder` tinyint(3) NOT NULL,
  `updatetime` int(10) NOT NULL,
  `is_sms` tinyint(1) NOT NULL,
  `dateline` int(10) NOT NULL,
  `dispatchprice` decimal(10,2) DEFAULT NULL,
  `is_hot` tinyint(1) NOT NULL,
  `freeprice` decimal(10,2) DEFAULT NULL,
  `begintime` varchar(20) DEFAULT NULL,
  `announce` varchar(1000) NOT NULL,
  `endtime` varchar(20) DEFAULT NULL,
  `consume` varchar(20) NOT NULL,
  `level` tinyint(1) NOT NULL,
  `is_rest` tinyint(1) NOT NULL,
  `typeid` int(10) NOT NULL,
  `from_user` varchar(200) NOT NULL,
  `delivery_within_days` int(10) NOT NULL,
  `delivery_radius` decimal(18,1) NOT NULL,
  `not_in_delivery_radius` tinyint(1) NOT NULL,
  `btn_reservation` varchar(100) NOT NULL,
  `btn_eat` varchar(100) NOT NULL,
  `btn_delivery` varchar(100) NOT NULL,
  `btn_snack` varchar(100) NOT NULL,
  `btn_queue` varchar(100) NOT NULL,
  `btn_intelligent` varchar(100) NOT NULL,
  `is_snack` tinyint(1) NOT NULL,
  `is_reservation` tinyint(1) NOT NULL,
  `is_queue` tinyint(1) NOT NULL,
  `is_intelligent` tinyint(1) NOT NULL,
  `coupon_title1` varchar(100) NOT NULL,
  `coupon_title2` varchar(100) NOT NULL,
  `coupon_title3` varchar(100) NOT NULL,
  `coupon_link1` varchar(200) NOT NULL,
  `coupon_link2` varchar(200) NOT NULL,
  `coupon_link3` varchar(200) NOT NULL,
  `qq` varchar(20) NOT NULL,
  `weixin` varchar(20) NOT NULL,
  `is_hour` tinyint(1) NOT NULL,
  `default_jump` tinyint(2) NOT NULL,
  `is_savewine` tinyint(1) NOT NULL,
  `notice_space_time` int(10) DEFAULT NULL,
  `is_operator1` tinyint(1) NOT NULL,
  `is_operator2` tinyint(1) NOT NULL,
  `kefu_qrcode` varchar(500) NOT NULL,
  `reservation_announce` varchar(1000) NOT NULL,
  `is_business` tinyint(1) NOT NULL,
  `business_id` int(10) NOT NULL,
  `wechat` tinyint(1) NOT NULL,
  `alipay` tinyint(1) NOT NULL,
  `credit` tinyint(1) NOT NULL,
  `delivery` tinyint(1) NOT NULL,
  `delivery_isnot_today` tinyint(1) NOT NULL,
  `is_speaker` tinyint(1) NOT NULL,
  `screen_mode` tinyint(1) NOT NULL,
  `screen_title` varchar(200) NOT NULL,
  `screen_bg` varchar(500) NOT NULL,
  `screen_bottom` varchar(200) NOT NULL,
  `begintime1` varchar(20) DEFAULT NULL,
  `endtime1` varchar(20) DEFAULT NULL,
  `begintime2` varchar(20) DEFAULT NULL,
  `endtime2` varchar(20) DEFAULT NULL,
  `area` varchar(1000) NOT NULL,
  `default_jump_url` varchar(500) NOT NULL DEFAULT '' COMMENT '默认链接',
  `thumbs` text NOT NULL,
  `is_locktables` tinyint(1) NOT NULL DEFAULT '0',
  `is_dispatcharea` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否启用配送区域',
  `is_brand` tinyint(1) NOT NULL DEFAULT '0' COMMENT '品牌商家',
  `is_meal_pay_confirm` tinyint(1) NOT NULL DEFAULT '0' COMMENT '店内点餐在线支付是否需要确认',
  `is_list` tinyint(1) NOT NULL DEFAULT '1' COMMENT '是否在列表显示',
  `is_add_dish` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否加菜',
  `is_newlimitprice` tinyint(1) NOT NULL DEFAULT '0' COMMENT '新顾客满减',
  `is_oldlimitprice` tinyint(1) NOT NULL DEFAULT '0' COMMENT '老顾客满减',
  `is_add_order` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否加单',
  `is_shouyin` tinyint(1) NOT NULL DEFAULT '0',
  `is_bank_pay` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否支持银行支付',
  `bank_pay_id` int(10) NOT NULL DEFAULT '0' COMMENT '银行活动ID',
  `is_vtiny_bankpay` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否支持银行支付',
  `vtiny_bankpay_id` int(10) NOT NULL DEFAULT '0' COMMENT '银行活动ID',
  `vtiny_bankpay_url` varchar(500) NOT NULL DEFAULT '' COMMENT '链接',
  `is_auto_confirm` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否自动确认订单',
  `is_order_autoconfirm` tinyint(1) NOT NULL DEFAULT '0',
  `btn_shouyin` varchar(100) NOT NULL DEFAULT '收银',
  `is_reservation_dish` tinyint(1) NOT NULL DEFAULT '1',
  `reservation_days` int(10) NOT NULL DEFAULT '7' COMMENT '预订天数',
  `is_reservation_today` tinyint(1) NOT NULL DEFAULT '1',
  `reservation_tip` varchar(200) NOT NULL DEFAULT '请输入备注，人数口味等等（可不填）',
  `reservation_wechat` tinyint(1) NOT NULL DEFAULT '1',
  `reservation_alipay` tinyint(1) NOT NULL DEFAULT '1',
  `reservation_credit` tinyint(1) NOT NULL DEFAULT '1',
  `reservation_delivery` tinyint(1) NOT NULL DEFAULT '1',
  `business_type` tinyint(1) NOT NULL DEFAULT '0',
  `business_openid` varchar(200) NOT NULL DEFAULT '',
  `business_username` varchar(200) NOT NULL DEFAULT '',
  `business_alipay` varchar(200) NOT NULL DEFAULT '',
  `business_wechat` varchar(200) NOT NULL DEFAULT '',
  `is_ld_wxserver` tinyint(1) DEFAULT NULL,
  `ld_wxserver_url` varchar(255) DEFAULT NULL,
  `is_default_rate` tinyint(1) NOT NULL DEFAULT '1' COMMENT '默认1,自定义2',
  `getcash_price` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '最低提现金额',
  `fee_rate` decimal(10,2) unsigned NOT NULL DEFAULT '0.00' COMMENT '提现费率',
  `fee_min` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '提现手续费最低金额',
  `fee_max` int(10) unsigned NOT NULL DEFAULT '0' COMMENT '提现手续费最高金额',
  `is_tea_money` tinyint(1) NOT NULL DEFAULT '0',
  `tea_money` decimal(10,2) DEFAULT '0.00',
  `tea_tip` varchar(200) NOT NULL DEFAULT '',
  `deleted` tinyint(1) unsigned NOT NULL DEFAULT '0',
  `is_delivery_nowtime` tinyint(1) NOT NULL DEFAULT '1',
  `is_jueqi_ymf` tinyint(1) NOT NULL DEFAULT '0',
  `jueqi_host` varchar(200) NOT NULL DEFAULT '',
  `jueqi_customerId` varchar(200) NOT NULL DEFAULT '',
  `is_order_tip` tinyint(1) NOT NULL DEFAULT '0',
  `default_user_count` int(10) unsigned NOT NULL DEFAULT '5' COMMENT '默认的用餐人数',
  `is_delivery_distance` tinyint(1) NOT NULL DEFAULT '0' COMMENT '是否支持配送距离',
  `is_fengniao` tinyint(1) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_tables` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `tablezonesid` int(10) unsigned NOT NULL,
  `title` varchar(200) NOT NULL,
  `user_count` int(10) NOT NULL,
  `displayorder` tinyint(3) unsigned NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  `status` tinyint(1) unsigned NOT NULL,
  `url` varchar(500) NOT NULL,
  `print_label` int(4) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_tables_order` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `tablesid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `from_user` varchar(200) NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_tablezones` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `title` varchar(200) NOT NULL,
  `limit_price` int(10) unsigned NOT NULL,
  `reservation_price` int(10) unsigned NOT NULL,
  `table_count` int(10) NOT NULL,
  `displayorder` tinyint(3) unsigned NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  `status` tinyint(1) unsigned NOT NULL,
  `service_rate` decimal(10,2) DEFAULT '0.00',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM  DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_template` (
  `id` int(10) NOT NULL AUTO_INCREMENT,
  `weid` int(10) NOT NULL,
  `template_name` varchar(50) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_tpl_log` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned DEFAULT NULL,
  `storeid` int(10) unsigned NOT NULL,
  `orderid` int(10) unsigned NOT NULL,
  `ordersn` varchar(100) DEFAULT NULL,
  `from_user` varchar(100) DEFAULT NULL,
  `content` varchar(1000) DEFAULT NULL,
  `result` varchar(200) DEFAULT NULL,
  `dateline` int(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_type` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `name` varchar(50) NOT NULL,
  `parentid` int(10) unsigned NOT NULL,
  `displayorder` tinyint(3) unsigned NOT NULL,
  `dateline` int(10) unsigned NOT NULL,
  `status` tinyint(1) unsigned NOT NULL,
  `url` varchar(200) NOT NULL DEFAULT '' COMMENT '链接',
  `thumb` varchar(500) NOT NULL DEFAULT '' COMMENT '图片',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
CREATE TABLE IF NOT EXISTS `ims_weisrc_dish_useraddress` (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `weid` int(10) unsigned NOT NULL,
  `from_user` varchar(50) NOT NULL DEFAULT '',
  `realname` varchar(20) NOT NULL DEFAULT '',
  `mobile` varchar(20) NOT NULL DEFAULT '',
  `address` varchar(300) NOT NULL DEFAULT '',
  `doorplate` varchar(300) NOT NULL DEFAULT '',
  `gender` tinyint(1) NOT NULL DEFAULT '1',
  `isdefault` tinyint(1) NOT NULL DEFAULT '0',
  `lat` decimal(18,10) NOT NULL DEFAULT '0.0000000000' COMMENT '经度',
  `lng` decimal(18,10) NOT NULL DEFAULT '0.0000000000' COMMENT '纬度',
  `dateline` int(10) NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=utf8;
]]></install>
	<uninstall><![CDATA[DROP TABLE IF EXISTS `ims_weisrc_dish_account`;
DROP TABLE IF EXISTS `ims_weisrc_dish_ad`;
DROP TABLE IF EXISTS `ims_weisrc_dish_address`;
DROP TABLE IF EXISTS `ims_weisrc_dish_area`;
DROP TABLE IF EXISTS `ims_weisrc_dish_blacklist`;
DROP TABLE IF EXISTS `ims_weisrc_dish_businesslog`;
DROP TABLE IF EXISTS `ims_weisrc_dish_cart`;
DROP TABLE IF EXISTS `ims_weisrc_dish_cashlog`;
DROP TABLE IF EXISTS `ims_weisrc_dish_category`;
DROP TABLE IF EXISTS `ims_weisrc_dish_collection`;
DROP TABLE IF EXISTS `ims_weisrc_dish_commission`;
DROP TABLE IF EXISTS `ims_weisrc_dish_coupon`;
DROP TABLE IF EXISTS `ims_weisrc_dish_credits_record`;
DROP TABLE IF EXISTS `ims_weisrc_dish_delivery_record`;
DROP TABLE IF EXISTS `ims_weisrc_dish_deliveryarea`;
DROP TABLE IF EXISTS `ims_weisrc_dish_dispatcharea`;
DROP TABLE IF EXISTS `ims_weisrc_dish_distance`;
DROP TABLE IF EXISTS `ims_weisrc_dish_email_setting`;
DROP TABLE IF EXISTS `ims_weisrc_dish_fans`;
DROP TABLE IF EXISTS `ims_weisrc_dish_feedback`;
DROP TABLE IF EXISTS `ims_weisrc_dish_fengniao`;
DROP TABLE IF EXISTS `ims_weisrc_dish_goods`;
DROP TABLE IF EXISTS `ims_weisrc_dish_goods_option`;
DROP TABLE IF EXISTS `ims_weisrc_dish_intelligent`;
DROP TABLE IF EXISTS `ims_weisrc_dish_mealtime`;
DROP TABLE IF EXISTS `ims_weisrc_dish_nave`;
DROP TABLE IF EXISTS `ims_weisrc_dish_order`;
DROP TABLE IF EXISTS `ims_weisrc_dish_order_goods`;
DROP TABLE IF EXISTS `ims_weisrc_dish_order_log`;
DROP TABLE IF EXISTS `ims_weisrc_dish_print_label`;
DROP TABLE IF EXISTS `ims_weisrc_dish_print_order`;
DROP TABLE IF EXISTS `ims_weisrc_dish_print_setting`;
DROP TABLE IF EXISTS `ims_weisrc_dish_queue_order`;
DROP TABLE IF EXISTS `ims_weisrc_dish_queue_setting`;
DROP TABLE IF EXISTS `ims_weisrc_dish_recharge`;
DROP TABLE IF EXISTS `ims_weisrc_dish_recharge_record`;
DROP TABLE IF EXISTS `ims_weisrc_dish_reply`;
DROP TABLE IF EXISTS `ims_weisrc_dish_reservation`;
DROP TABLE IF EXISTS `ims_weisrc_dish_savewine_log`;
DROP TABLE IF EXISTS `ims_weisrc_dish_service_log`;
DROP TABLE IF EXISTS `ims_weisrc_dish_setting`;
DROP TABLE IF EXISTS `ims_weisrc_dish_sms_checkcode`;
DROP TABLE IF EXISTS `ims_weisrc_dish_sms_setting`;
DROP TABLE IF EXISTS `ims_weisrc_dish_sncode`;
DROP TABLE IF EXISTS `ims_weisrc_dish_store_setting`;
DROP TABLE IF EXISTS `ims_weisrc_dish_stores`;
DROP TABLE IF EXISTS `ims_weisrc_dish_tables`;
DROP TABLE IF EXISTS `ims_weisrc_dish_tables_order`;
DROP TABLE IF EXISTS `ims_weisrc_dish_tablezones`;
DROP TABLE IF EXISTS `ims_weisrc_dish_template`;
DROP TABLE IF EXISTS `ims_weisrc_dish_tpl_log`;
DROP TABLE IF EXISTS `ims_weisrc_dish_type`;
DROP TABLE IF EXISTS `ims_weisrc_dish_useraddress`;
]]></uninstall>
	<upgrade><![CDATA[upgrade.php]]></upgrade>
</manifest>